<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.3/dist/bootstrap-table.min.css" rel="stylesheet">


    <!-- Import axios, which makes HTTP requests in JS a little easier-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js" integrity="sha512-odNmoc1XJy5x1TMVMdC7EMs3IVdItLPlCeL5vSUPN2llYKMJ2eByTTAIiiuqLg+GdNr9hF6z81p27DArRFKT7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.3/dist/bootstrap-table.min.js"></script>
    
    <title>Document</title>
</head>
<body>

    <button onclick="getTable()">Import Wall</button>
    <button onclick="getTableSlab()">Import Slab</button>


    <div></div>
    
    <table id="table" data-search="true" data-height="460" class="table table-bordered border-primary table-hover">
        <thead>
          <tr>
            <th scope="col">IFC Name</th>
            <th scope="col">ifc_definition_id</th>
          </tr>
        </thead>
        <tbody>
        <!-- what goes here? -->

        </tbody>
    </table> 



    


    <script>
        const tableBody = document.querySelector('tbody');
        var $table = $('#table');

        function getRandomNumber() {

            url = "/api/datapoint";

            axios.get(url)
            .then(function(response) {

                // The data will all be returned as a JSON object
                // We can access the data by using the data property of the response object

                document.getElementById('randomNumberDiv').innerHTML = response.data.random_number;
            })
            .catch(function(error) {
                console.log(error);
            });
        }

        function getTable() {

            url = "/api/datapoint";
            tableBody.innerHTML = "";

                
            axios.get(url)
            .then(function(response) {
                data = eval(response.data.random_number);
                for (let i = 0; i < data.length; i++) {
                    let tr = document.createElement('tr');
                    tr.innerHTML = `<td>${data[i][0]}</td>
                    <td>${data[i][1]}</td>`
                    tableBody.append(tr)
                }
                // The data will all be returned as a JSON object
                // We can access the data by using the data property of the response object

    
            })
            .catch(function(error) {
                console.log(error);
            });
        }

        function getTableSlab() {

        url = "/api/datapointSlab";
        tableBody.innerHTML = "";

            
        axios.get(url)
        .then(function(response) {
            data = eval(response.data.random_number);
            for (let i = 0; i < data.length; i++) {
                let tr = document.createElement('tr');
                tr.innerHTML = `<td>${data[i][0]}</td>
                <td>${data[i][1]}</td>`
                tableBody.append(tr)
            }
            // The data will all be returned as a JSON object
            // We can access the data by using the data property of the response object


        })
        .catch(function(error) {
            console.log(error);
        });
        }



        // This calls the function getRandomNumber() every 2 seconds
        //var intervalID = window.setInterval(getRandomNumber, 200);
        /**
         * <table>
        <tr>
            <th>Attribute</th>
            <th>Result</th>
        </tr>
        <tr>
            <td>IFC TYPE: </td>
            <td>&nbsp;<span id="randomNumberDiv"></span></td>
          </tr>
    </table>
         **/

    </script>
</body>
</html>
